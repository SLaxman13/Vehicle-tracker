<!DOCTYPE html>
<html>
<head>
    <title>Driver - Send Location</title>
</head>
<body>
    <h2>Driver Page</h2>

    <button onclick="sendLocation()">Send My Location</button>

    <p id="status"></p>

    <script>
        function sendLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(pos) {

                    fetch("/update_location", {
                        method: "POST",
                        headers: {"Content-Type": "application/json"},
                        body: JSON.stringify({
                            lat: pos.coords.latitude,
                            lon: pos.coords.longitude
                        })
                    });

                    document.getElementById("status").innerText =
                        "Location sent: " + pos.coords.latitude + ", " + pos.coords.longitude;

                });
            } else {
                alert("Geolocation not supported");
            }
        }
    </script>
</body>
</html>
